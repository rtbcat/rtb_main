// Item Name : Mega Menu Reloaded
// Item URI : http://codecanyon.net/item/mega-menu-reloaded/1593152
// Author URI : http://codecanyon.net/user/Pixelworkshop/
// Version : 2.0



(function(e){function r(){if(e(window).width()<768&&t.menu_responsive===1){e(".megamenu").children("li").css({display:"none"});e(".megamenu_button").css({display:"block"})}else{e(".megamenu").children("li").css({display:"inline"});e(".megamenu_button").css({display:"none"})}}function i(){var n=e(this),r=e(".megamenu_fullwidth",this);switch(t.menu_effect){case"hover_fade":e(r).fadeIn(t.menu_speed_show);break;case"hover_slide":e(r).slideDown(t.menu_speed_show);break;case"hover_toggle":e(r).show(t.menu_speed_show);break;case"click_fade":n.click(function(){e(r).fadeIn(t.menu_speed_show)});break;case"click_slide":n.click(function(){e(r).slideDown(t.menu_speed_show)});break;case"click_toggle":n.click(function(){e(r).show(t.menu_speed_show)});break}}function s(){var n=e(this),r=e(".megamenu_fullwidth",this);switch(t.menu_effect){case"hover_fade":case"click_fade":e(r).fadeOut(t.menu_speed_hide);break;case"hover_slide":case"click_slide":e(r).slideUp(t.menu_speed_hide);break;case"hover_toggle":case"click_toggle":e(r).toggle(t.menu_speed_hide);break}}function o(){var t=e(".megamenu_fixed");e(t).after('<a id="megamenu_trigger" href="#"></a>');if(megamenuBarHide===1){e(t).hide(0);e("#megamenu_trigger").toggleClass("active")}e("#megamenu_trigger").click(function(){e(t).slideToggle(300);e(this).toggleClass("active");return false})}function u(){e(document).click(function(){e(".megamenu").children("li").removeClass("active");e(".megamenu_fullwidth").hide(0)});e(".megamenu").click(function(e){e.stopPropagation()})}function a(){var t=e(".megamenu");e(t).append('<span class="megamenu_carousel_prev"></span><span class="megamenu_carousel_next"></span>');var n={width:e(".megamenu_wrapper").width(),visible:1,next:e(".megamenu_carousel_next"),prev:e(".megamenu_carousel_prev"),current:0,items:2,slidespeed:600};var r=n.width;e(t).wrap('<div class="megamenu_carousel_frame"></div>');var i=e(t).parent(".megamenu_carousel_frame");var s=function(r,i){if(r=="next"){n.current+=n.visible;if(n.current>=n.items)n.current=0}else if(r=="prev"){n.current-=n.visible;if(n.current<0)n.current=n.visible==1?n.items-1:n.items-n.visible+(n.visible-n.items%n.visible)}else{n.current=r}e(t).animate({marginLeft:-1*n.current*n.width},n.slidespeed)};if(n.next!=false)n.next.click(function(){s("next",true)});if(n.prev!=false)n.prev.click(function(){s("prev",true)})}function f(){e(".megamenu_tabs").each(function(t,n){var r=e(this);menuTabsNav=r.find(".megamenu_tabs_nav > li > a");menuTabsNav.click(function(){var t=r.find("a.current").attr("href").substring(1),n=e(this),i=n.attr("href").substring(1);if(i!=t&&r.find(":animated").length==0){r.find(".megamenu_tabs_nav li a").removeClass("current");n.addClass("current");r.find("#"+t).fadeOut(300,function(){r.find("#"+i).fadeIn(300);var e=r.find("#"+i).height()})}return false})})}var t={menu_speed_show:300,menu_speed_hide:200,menu_speed_delay:200,menu_effect:"open_close_slide",menu_easing:"jswing",menu_click_outside:0,menu_show_onload:0,menubar_trigger:0,menubar_hide:0,menu_responsive:1,menu_carousel:0,menu_carousel_groups:0,hoverIntentConfig:{sensitivity:2,interval:100,over:i,timeout:200,out:s}};var n={init:function(n){t=e.extend(1,t,n);return this.each(function(){var i=e(this),s=e(i).children("li"),l=e(s).children("span"),c=e(s).children(".megamenu_fullwidth");menuDropDownScroller=e(".megamenu_scroller_container");menuButton=e(".megamenu_button");if(n.menu_carousel===1){a()}if(n.menu_click_outside===1){u()}if(menuDropDownScroller.length>0){e(menuDropDownScroller).nanoScroller({alwaysVisible:true})}e(c).css("left","0").hide();f();if("ontouchstart"in document.documentElement&&t.menu_responsive===1){if(e(window).width()<768){e(c).css({left:"0",top:"auto"}).hide();e(s).hide(0);e(menuButton).show(0);e(menuButton).children("span").hammer().on("tap",function(){e(menuButton).toggleClass("megamenu_button_active");e(s).not(":eq(0)").toggle(0)})}e(s).toggleClass("noactive");e(s).children("span").hammer().on("tap",function(){var t=e(this);t.parent(s).toggleClass("active noactive").find(c).toggle(0).end().siblings().addClass("noactive").removeClass("active").find(c).hide(0);return false});e(document).hammer().on("tap",function(){e(s).addClass("noactive");e(c).hide(0)});e(i).hammer().on("tap",function(e){e.stopPropagation()});e(window).bind("orientationchange",function(){e(s).addClass("noactive");e(c).hide(0)});return}else{r();e(window).resize(function(){r()});e(menuButton).click(function(){e(menuButton).toggleClass("megamenu_button_active");e(s).not(":eq(0)").toggle(0)});if(n.menubar_trigger===1){megamenuBarHide=n.menubar_hide;o()}switch(t.menu_effect){case"open_close_fade":var h="fadeToggle",p="fadeOut";break;case"open_close_slide":var h="slideToggle",p="slideUp";break;case"open_close_toggle":var h="toggle",p="hide";break}switch(t.menu_effect){case"hover_fade":case"hover_slide":case"hover_toggle":case"click_fade":case"click_slide":case"click_toggle":e(s).hoverIntent(t.hoverIntentConfig);break;case"open_close_fade":case"open_close_slide":case"open_close_toggle":e(".megamenu > li:nth-child("+t.menu_show_onload+")").find(c).show().closest(s).toggleClass("active");e(s).unbind("mouseenter mouseleave").click(function(){var n=e(this);n.siblings().removeClass("active").find(c)[p](t.menu_speed_hide);n.toggleClass("active").find(c).first().delay(t.menu_speed_delay)[h](t.menu_speed_show).click(function(e){e.stopPropagation()})});break}}})},update:function(n){t=e.extend(1,t,n)}};e.fn.megaMenuReloaded=function(t){if(n[t]){return n[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return n.init.apply(this,arguments)}else{e.error("No found method "+t)}}})(jQuery)

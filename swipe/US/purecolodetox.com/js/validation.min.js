function removeDelimiters(v){return v=v.replace(/\s/g,""),v=v.replace(/\-/g,"")}function parseNumber(v){if("string"!=typeof v)return parseFloat(v);var isDot=v.indexOf("."),isComa=v.indexOf(",");return isDot!=-1&&isComa!=-1?v=isComa>isDot?v.replace(".","").replace(",","."):v.replace(",",""):isComa!=-1&&(v=v.replace(",",".")),parseFloat(v)}var Validator=Class.create();Validator.prototype={initialize:function(className,error,test,options){"function"==typeof test?(this.options=$H(options),this._test=test):(this.options=$H(test),this._test=function(){return!0}),this.error=error||"Validation failed.",this.className=className},test:function(v,elm){return this._test(v,elm)&&this.options.all(function(p){return!Validator.methods[p.key]||Validator.methods[p.key](v,elm,p.value)})}},Validator.methods={pattern:function(v,elm,opt){return Validation.get("IsEmpty").test(v)||opt.test(v)},minLength:function(v,elm,opt){return v.length>=opt},maxLength:function(v,elm,opt){return v.length<=opt},min:function(v,elm,opt){return v>=parseFloat(opt)},max:function(v,elm,opt){return v<=parseFloat(opt)},notOneOf:function(v,elm,opt){return $A(opt).all(function(value){return v!=value})},oneOf:function(v,elm,opt){return $A(opt).any(function(value){return v==value})},is:function(v,elm,opt){return v==opt},isNot:function(v,elm,opt){return v!=opt},equalToField:function(v,elm,opt){return v==$F(opt)},notEqualToField:function(v,elm,opt){return v!=$F(opt)},include:function(v,elm,opt){return $A(opt).all(function(value){return Validation.get(value).test(v,elm)})}};var Validation=Class.create();Validation.defaultOptions={onSubmit:!0,stopOnFirst:!1,immediate:!1,focusOnError:!0,useTitles:!1,addClassNameToContainer:!1,containerClassName:".input-box",onFormValidate:function(result,form){},onElementValidate:function(result,elm){}},Validation.prototype={initialize:function(form,options){this.form=$(form),this.form&&(this.options=Object.extend({onSubmit:Validation.defaultOptions.onSubmit,stopOnFirst:Validation.defaultOptions.stopOnFirst,immediate:Validation.defaultOptions.immediate,focusOnError:Validation.defaultOptions.focusOnError,useTitles:Validation.defaultOptions.useTitles,onFormValidate:Validation.defaultOptions.onFormValidate,onElementValidate:Validation.defaultOptions.onElementValidate},options||{}),this.options.onSubmit&&Event.observe(this.form,"submit",this.onSubmit.bind(this),!1),this.options.immediate&&Form.getElements(this.form).each(function(input){"select"==input.tagName.toLowerCase()&&Event.observe(input,"blur",this.onChange.bindAsEventListener(this)),"radio"==input.type.toLowerCase()||"checkbox"==input.type.toLowerCase()?Event.observe(input,"click",this.onChange.bindAsEventListener(this)):Event.observe(input,"change",this.onChange.bindAsEventListener(this))},this))},onChange:function(ev){Validation.isOnChange=!0,Validation.validate(Event.element(ev),{useTitle:this.options.useTitles,onElementValidate:this.options.onElementValidate}),Validation.isOnChange=!1},onSubmit:function(ev){this.validate()||Event.stop(ev)},validate:function(){var result=!1,useTitles=this.options.useTitles,callback=this.options.onElementValidate;try{result=this.options.stopOnFirst?Form.getElements(this.form).all(function(elm){return!(!elm.hasClassName("local-validation")||this.isElementInForm(elm,this.form))||Validation.validate(elm,{useTitle:useTitles,onElementValidate:callback})},this):Form.getElements(this.form).collect(function(elm){return!(!elm.hasClassName("local-validation")||this.isElementInForm(elm,this.form))||Validation.validate(elm,{useTitle:useTitles,onElementValidate:callback})},this).all()}catch(e){}if(!result&&this.options.focusOnError)try{Form.getElements(this.form).findAll(function(elm){return $(elm).hasClassName("validation-failed")}).first().focus()}catch(e){}return this.options.onFormValidate(result,this.form),result},reset:function(){Form.getElements(this.form).each(Validation.reset)},isElementInForm:function(elm,form){var domForm=elm.up("form");return domForm==form}},Object.extend(Validation,{validate:function(elm,options){options=Object.extend({useTitle:!1,onElementValidate:function(result,elm){}},options||{}),elm=$(elm);var cn=$w(elm.className);return result=cn.all(function(value){var test=Validation.test(value,elm,options.useTitle);return options.onElementValidate(test,elm),test})},insertAdvice:function(elm,advice){var container=$(elm).up(".field-row");if(container)Element.insert(container,{after:advice});else if(elm.up("td.value"))elm.up("td.value").insert({bottom:advice});else if(elm.advaiceContainer&&$(elm.advaiceContainer))$(elm.advaiceContainer).update(advice);else switch(elm.type.toLowerCase()){case"checkbox":case"radio":var p=elm.parentNode;p?Element.insert(p,{bottom:advice}):Element.insert(elm,{after:advice});break;default:Element.insert(elm,{after:advice})}},showAdvice:function(elm,advice,adviceName){elm.advices?elm.advices.each(function(pair){advice&&pair.value.id==advice.id||this.hideAdvice(elm,pair.value)}.bind(this)):elm.advices=new Hash,elm.advices.set(adviceName,advice),"undefined"==typeof Effect?advice.style.display="block":advice._adviceAbsolutize?(Position.absolutize(advice),advice.show(),advice.setStyle({top:advice._adviceTop,left:advice._adviceLeft,width:advice._adviceWidth,"z-index":1e3}),advice.addClassName("advice-absolute")):new Effect.Appear(advice,{duration:1})},hideAdvice:function(elm,advice){null!=advice&&new Effect.Fade(advice,{duration:1,afterFinishInternal:function(){advice.hide()}})},updateCallback:function(elm,status){"undefined"!=typeof elm.callbackFunction&&eval(elm.callbackFunction+"('"+elm.id+"','"+status+"')")},ajaxError:function(elm,errorMsg){var name="validate-ajax",advice=Validation.getAdvice(name,elm);if(null==advice&&(advice=this.createAdvice(name,elm,!1,errorMsg)),this.showAdvice(elm,advice,"validate-ajax"),this.updateCallback(elm,"failed"),elm.addClassName("validation-failed"),elm.addClassName("validate-ajax"),Validation.defaultOptions.addClassNameToContainer&&""!=Validation.defaultOptions.containerClassName){var container=elm.up(Validation.defaultOptions.containerClassName);container&&this.allowContainerClassName(elm)&&(container.removeClassName("validation-passed"),container.addClassName("validation-error"))}},allowContainerClassName:function(elm){return"radio"!=elm.type&&"checkbox"!=elm.type||elm.hasClassName("change-container-classname")},test:function(name,elm,useTitle){var v=Validation.get(name),prop="__advice"+name.camelize();try{if(Validation.isVisible(elm)&&!v.test($F(elm),elm)){var advice=Validation.getAdvice(name,elm);if(null==advice&&(advice=this.createAdvice(name,elm,useTitle)),this.showAdvice(elm,advice,name),this.updateCallback(elm,"failed"),elm[prop]=1,elm.advaiceContainer||(elm.removeClassName("validation-passed"),elm.addClassName("validation-failed")),Validation.defaultOptions.addClassNameToContainer&&""!=Validation.defaultOptions.containerClassName){var container=elm.up(Validation.defaultOptions.containerClassName);container&&this.allowContainerClassName(elm)&&(container.removeClassName("validation-passed"),container.addClassName("validation-error"))}return!1}var advice=Validation.getAdvice(name,elm);if(this.hideAdvice(elm,advice),this.updateCallback(elm,"passed"),elm[prop]="",elm.removeClassName("validation-failed"),elm.addClassName("validation-passed"),Validation.defaultOptions.addClassNameToContainer&&""!=Validation.defaultOptions.containerClassName){var container=elm.up(Validation.defaultOptions.containerClassName);container&&!container.down(".validation-failed")&&this.allowContainerClassName(elm)&&(Validation.get("IsEmpty").test(elm.value)&&this.isVisible(elm)?container.removeClassName("validation-passed"):container.addClassName("validation-passed"),container.removeClassName("validation-error"))}return!0}catch(e){throw e}},isVisible:function(elm){for(;"BODY"!=elm.tagName;){if(!$(elm).visible())return!1;elm=elm.parentNode}return!0},getAdvice:function(name,elm){return $("advice-"+name+"-"+Validation.getElmID(elm))||$("advice-"+Validation.getElmID(elm))},createAdvice:function(name,elm,useTitle,customError){var v=Validation.get(name),errorMsg=useTitle&&elm&&elm.title?elm.title:v.error;customError&&(errorMsg=customError);try{Translator&&(errorMsg=Translator.translate(errorMsg))}catch(e){}if(advice='<div class="validation-advice" id="advice-'+name+"-"+Validation.getElmID(elm)+'" style="display:none">'+errorMsg+"</div>",Validation.insertAdvice(elm,advice),advice=Validation.getAdvice(name,elm),$(elm).hasClassName("absolute-advice")){var dimensions=$(elm).getDimensions(),originalPosition=Position.cumulativeOffset(elm);advice._adviceTop=originalPosition[1]+dimensions.height+"px",advice._adviceLeft=originalPosition[0]+"px",advice._adviceWidth=dimensions.width+"px",advice._adviceAbsolutize=!0}return advice},getElmID:function(elm){return elm.id?elm.id:elm.name},reset:function(elm){elm=$(elm);var cn=$w(elm.className);cn.each(function(value){var prop="__advice"+value.camelize();if(elm[prop]){var advice=Validation.getAdvice(value,elm);advice&&advice.hide(),elm[prop]=""}if(elm.removeClassName("validation-failed"),elm.removeClassName("validation-passed"),Validation.defaultOptions.addClassNameToContainer&&""!=Validation.defaultOptions.containerClassName){var container=elm.up(Validation.defaultOptions.containerClassName);container&&(container.removeClassName("validation-passed"),container.removeClassName("validation-error"))}})},add:function(className,error,test,options){var nv={};nv[className]=new Validator(className,error,test,options),Object.extend(Validation.methods,nv)},addAllThese:function(validators){var nv={};$A(validators).each(function(value){nv[value[0]]=new Validator(value[0],value[1],value[2],value.length>3?value[3]:{})}),Object.extend(Validation.methods,nv)},get:function(name){return Validation.methods[name]?Validation.methods[name]:Validation.methods._LikeNoIDIEverSaw_},methods:{_LikeNoIDIEverSaw_:new Validator("_LikeNoIDIEverSaw_","",{})}}),Validation.add("IsEmpty","",function(v){return""==v||null==v||0==v.length||/^\s+$/.test(v)}),Validation.addAllThese([["validate-no-html-tags","HTML tags are not allowed",function(v){return!/<(\/)?\w+/.test(v)}],["validate-select","Please select an option.",function(v){return"none"!=v&&null!=v&&0!=v.length}],["required-entry","This is a required field.",function(v){return!Validation.get("IsEmpty").test(v)}],["validate-number","Please enter a valid number in this field.",function(v){return Validation.get("IsEmpty").test(v)||!isNaN(parseNumber(v))&&/^\s*-?\d*(\.\d*)?\s*$/.test(v)}],["validate-number-range","The value is not within the specified range.",function(v,elm){if(Validation.get("IsEmpty").test(v))return!0;var numValue=parseNumber(v);if(isNaN(numValue))return!1;var reRange=/^number-range-(-?[\d.,]+)?-(-?[\d.,]+)?$/,result=!0;return $w(elm.className).each(function(name){var m=reRange.exec(name);m&&(result=result&&(null==m[1]||""==m[1]||numValue>=parseNumber(m[1]))&&(null==m[2]||""==m[2]||numValue<=parseNumber(m[2])))}),result}],["validate-digits","Please use numbers only in this field. Please avoid spaces or other characters such as dots or commas.",function(v){return Validation.get("IsEmpty").test(v)||!/[^\d]/.test(v)}],["validate-digits-range","The value is not within the specified range.",function(v,elm){if(Validation.get("IsEmpty").test(v))return!0;var numValue=parseNumber(v);if(isNaN(numValue))return!1;var reRange=/^digits-range-(-?\d+)?-(-?\d+)?$/,result=!0;return $w(elm.className).each(function(name){var m=reRange.exec(name);m&&(result=result&&(null==m[1]||""==m[1]||numValue>=parseNumber(m[1]))&&(null==m[2]||""==m[2]||numValue<=parseNumber(m[2])))}),result}],["validate-alpha","Please use letters only (a-z or A-Z) in this field.",function(v){return Validation.get("IsEmpty").test(v)||/^[a-zA-Z]+$/.test(v)}],["validate-code","Please use only letters (a-z), numbers (0-9) or underscore(_) in this field, first character should be a letter.",function(v){return Validation.get("IsEmpty").test(v)||/^[a-z]+[a-z0-9_]+$/.test(v)}],["validate-alphanum","Please use only letters (a-z or A-Z) or numbers (0-9) only in this field. No spaces or other characters are allowed.",function(v){return Validation.get("IsEmpty").test(v)||/^[a-zA-Z0-9]+$/.test(v)}],["validate-alphanum-with-spaces","Please use only letters (a-z or A-Z), numbers (0-9) or spaces only in this field.",function(v){return Validation.get("IsEmpty").test(v)||/^[a-zA-Z0-9 ]+$/.test(v)}],["validate-street","Please use only letters (a-z or A-Z) or numbers (0-9) or spaces and # only in this field.",function(v){return Validation.get("IsEmpty").test(v)||/^[ \w]{3,}([A-Za-z]\.)?([ \w]*\#\d+)?(\r\n| )[ \w]{3,}/.test(v)}],["validate-phoneStrict","Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.",function(v){return Validation.get("IsEmpty").test(v)||/^(\()?\d{3}(\))?(-|\s)?\d{3}(-|\s)\d{4}$/.test(v)}],["validate-phoneLax","Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.",function(v){return Validation.get("IsEmpty").test(v)||/^((\d[-. ]?)?((\(\d{3}\))|\d{3}))?[-. ]?\d{3}[-. ]?\d{4}$/.test(v)}],["validate-fax","Please enter a valid fax number. For example (123) 456-7890 or 123-456-7890.",function(v){return Validation.get("IsEmpty").test(v)||/^(\()?\d{3}(\))?(-|\s)?\d{3}(-|\s)\d{4}$/.test(v)}],["validate-date","Please enter a valid date.",function(v){var test=new Date(v);return Validation.get("IsEmpty").test(v)||!isNaN(test)}],["validate-date-range","The From Date value should be less than or equal to the To Date value.",function(v,elm){var m=/\bdate-range-(\w+)-(\w+)\b/.exec(elm.className);if(!m||"to"==m[2]||Validation.get("IsEmpty").test(v))return!0;var currentYear=(new Date).getFullYear()+"",normalizedTime=function(v){return v=v.split(/[.\/]/),v[2]&&v[2].length<4&&(v[2]=currentYear.substr(0,v[2].length)+v[2]),new Date(v.join("/")).getTime()},dependentElements=Element.select(elm.form,".validate-date-range.date-range-"+m[1]+"-to");return!dependentElements.length||Validation.get("IsEmpty").test(dependentElements[0].value)||normalizedTime(v)<=normalizedTime(dependentElements[0].value)}],["validate-email","Please enter a valid email address. For example johndoe@domain.com.",function(v){return Validation.get("IsEmpty").test(v)||/^([a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*@([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*\.(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]){2,})$/i.test(v)}],["validate-emailSender","Please use only visible characters and spaces.",function(v){return Validation.get("IsEmpty").test(v)||/^[\S ]+$/.test(v)}],["validate-password","Please enter 6 or more characters without leading or trailing spaces.",function(v){var pass=v.strip();return!(v.length>0&&v.length<6)&&v.length==pass.length}],["validate-admin-password","Please enter 7 or more characters. Password should contain both numeric and alphabetic characters.",function(v){var pass=v.strip();return 0==pass.length||!(!/[a-z]/i.test(v)||!/[0-9]/.test(v))&&!(pass.length<7)}],["validate-cpassword","Please make sure your passwords match.",function(v){var conf=$("confirmation")?$("confirmation"):$$(".validate-cpassword")[0],pass=!1;$("password")&&(pass=$("password"));for(var passwordElements=$$(".validate-password"),i=0;i<passwordElements.size();i++){var passwordElement=passwordElements[i];passwordElement.up("form").id==conf.up("form").id&&(pass=passwordElement)}return $$(".validate-admin-password").size()&&(pass=$$(".validate-admin-password")[0]),pass.value==conf.value}],["validate-both-passwords","Please make sure your passwords match.",function(v,input){var dependentInput=$(input.form["password"==input.name?"confirmation":"password"]),isEqualValues=input.value==dependentInput.value;return isEqualValues&&dependentInput.hasClassName("validation-failed")&&Validation.test(this.className,dependentInput),""==dependentInput.value||isEqualValues}],["validate-url","Please enter a valid URL. Protocol is required (http://, https:// or ftp://)",function(v){return v=(v||"").replace(/^\s+/,"").replace(/\s+$/,""),Validation.get("IsEmpty").test(v)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(v)}],["validate-clean-url","Please enter a valid URL. For example http://www.example.com or www.example.com",function(v){return Validation.get("IsEmpty").test(v)||/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\d+))?\/?/i.test(v)||/^(www)((\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\d+))?\/?/i.test(v)}],["validate-identifier",'Please enter a valid URL Key. For example "example-page", "example-page.html" or "anotherlevel/example-page".',function(v){return Validation.get("IsEmpty").test(v)||/^[a-z0-9][a-z0-9_\/-]+(\.[a-z0-9_-]+)?$/.test(v)}],["validate-xml-identifier","Please enter a valid XML-identifier. For example something_1, block5, id-4.",function(v){return Validation.get("IsEmpty").test(v)||/^[A-Z][A-Z0-9_\/-]*$/i.test(v)}],["validate-ssn","Please enter a valid social security number. For example 123-45-6789.",function(v){return Validation.get("IsEmpty").test(v)||/^\d{3}-?\d{2}-?\d{4}$/.test(v)}],["validate-zip","Please enter a valid zip code. For example 90602 or 90602-1234.",function(v){return Validation.get("IsEmpty").test(v)||/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(v)}],["validate-zip-international","Please enter a valid zip code.",function(v){return!0}],["validate-date-au","Please use this date format: dd/mm/yyyy. For example 17/03/2006 for the 17th of March, 2006.",function(v){if(Validation.get("IsEmpty").test(v))return!0;var regex=/^(\d{2})\/(\d{2})\/(\d{4})$/;if(!regex.test(v))return!1;var d=new Date(v.replace(regex,"$2/$1/$3"));return parseInt(RegExp.$2,10)==1+d.getMonth()&&parseInt(RegExp.$1,10)==d.getDate()&&parseInt(RegExp.$3,10)==d.getFullYear()}],["validate-currency-dollar","Please enter a valid $ amount. For example $100.00.",function(v){return Validation.get("IsEmpty").test(v)||/^\$?\-?([1-9]{1}[0-9]{0,2}(\,[0-9]{3})*(\.[0-9]{0,2})?|[1-9]{1}\d*(\.[0-9]{0,2})?|0(\.[0-9]{0,2})?|(\.[0-9]{1,2})?)$/.test(v)}],["validate-one-required","Please select one of the above options.",function(v,elm){var p=elm.parentNode,options=p.getElementsByTagName("INPUT");return $A(options).any(function(elm){return $F(elm)})}],["validate-one-required-by-name","Please select one of the options.",function(v,elm){for(var inputs=$$('input[name="'+elm.name.replace(/([\\"])/g,"\\$1")+'"]'),error=1,i=0;i<inputs.length;i++)"checkbox"!=inputs[i].type&&"radio"!=inputs[i].type||1!=inputs[i].checked||(error=0),!Validation.isOnChange||"checkbox"!=inputs[i].type&&"radio"!=inputs[i].type||Validation.reset(inputs[i]);return 0==error}],["validate-not-negative-number","Please enter a number 0 or greater in this field.",function(v){return!!Validation.get("IsEmpty").test(v)||(v=parseNumber(v),!isNaN(v)&&v>=0)}],["validate-zero-or-greater","Please enter a number 0 or greater in this field.",function(v){return Validation.get("validate-not-negative-number").test(v)}],["validate-greater-than-zero","Please enter a number greater than 0 in this field.",function(v){return!!Validation.get("IsEmpty").test(v)||(v=parseNumber(v),!isNaN(v)&&v>0)}],["validate-special-price","The Special Price is active only when lower than the Actual Price.",function(v){var priceInput=$("price"),priceType=$("price_type"),priceValue=parseFloat(v);return!(priceInput&&!Validation.get("IsEmpty").test(v)&&Validation.get("validate-number").test(v))||(priceType?priceType&&priceValue<=99.99:priceValue<parseFloat($F(priceInput)))}],["validate-state","Please select State/Province.",function(v){return 0!=v||""==v}],["validate-new-password","Please enter 6 or more characters without leading or trailing spaces.",function(v){return!!Validation.get("validate-password").test(v)&&(!Validation.get("IsEmpty").test(v)||""==v)}],["validate-cc-number","Please enter a valid credit card number.",function(v,elm){var ccTypeContainer=$(elm.id.substr(0,elm.id.indexOf("_cc_number"))+"_cc_type");return ccTypeContainer&&"undefined"!=typeof Validation.creditCartTypes.get(ccTypeContainer.value)&&0==Validation.creditCartTypes.get(ccTypeContainer.value)[2]?!(Validation.get("IsEmpty").test(v)||!Validation.get("validate-digits").test(v)):validateCreditCard(v)}],["validate-cc-type","Credit card number does not match credit card type.",function(v,elm){elm.value=removeDelimiters(elm.value),v=removeDelimiters(v);var ccTypeContainer=$(elm.id.substr(0,elm.id.indexOf("_cc_number"))+"_cc_type");if(!ccTypeContainer)return!0;var ccType=ccTypeContainer.value;if("undefined"==typeof Validation.creditCartTypes.get(ccType))return!1;if(0==Validation.creditCartTypes.get(ccType)[0])return!0;var validationFailure=!1;return Validation.creditCartTypes.each(function(pair){if(pair.key==ccType)throw pair.value[0]&&!v.match(pair.value[0])&&(validationFailure=!0),$break}),!validationFailure&&(ccTypeContainer.hasClassName("validation-failed")&&Validation.isOnChange&&Validation.validate(ccTypeContainer),!0)}],["validate-cc-type-select","Card type does not match credit card number.",function(v,elm){var ccNumberContainer=$(elm.id.substr(0,elm.id.indexOf("_cc_type"))+"_cc_number");return!(!Validation.isOnChange||!Validation.get("IsEmpty").test(ccNumberContainer.value))||(Validation.get("validate-cc-type").test(ccNumberContainer.value,ccNumberContainer)&&Validation.validate(ccNumberContainer),Validation.get("validate-cc-type").test(ccNumberContainer.value,ccNumberContainer))}],["validate-cc-exp","Incorrect credit card expiration date.",function(v,elm){var ccExpMonth=v,ccExpYear=$(elm.id.substr(0,elm.id.indexOf("_expiration"))+"_expiration_yr").value,currentTime=new Date,currentMonth=currentTime.getMonth()+1,currentYear=currentTime.getFullYear();return!(ccExpMonth<currentMonth&&ccExpYear==currentYear)}],["validate-cc-cvn","Please enter a valid credit card verification number.",function(v,elm){var ccTypeContainer=$(elm.id.substr(0,elm.id.indexOf("_cc_cid"))+"_cc_type");if(!ccTypeContainer)return!0;var ccType=ccTypeContainer.value;if("undefined"==typeof Validation.creditCartTypes.get(ccType))return!1;var re=Validation.creditCartTypes.get(ccType)[1];return!!v.match(re)}],["validate-ajax","",function(v,elm){return!0}],["validate-data","Please use only letters (a-z or A-Z), numbers (0-9) or underscore(_) in this field, first character should be a letter.",function(v){return""==v||!v||/^[A-Za-z]+[A-Za-z0-9_]+$/.test(v)}],["validate-css-length","Please input a valid CSS-length. For example 100px or 77pt or 20em or .5ex or 50%.",function(v){return""==v||!v||/^[0-9\.]+(px|pt|em|ex|%)?$/.test(v)&&!/\..*\./.test(v)&&!/\.$/.test(v)}],["validate-length","Text length does not satisfy specified text range.",function(v,elm){var reMax=new RegExp(/^maximum-length-[0-9]+$/),reMin=new RegExp(/^minimum-length-[0-9]+$/),result=!0;return $w(elm.className).each(function(name,index){if(name.match(reMax)&&result){var length=name.split("-")[2];result=v.length<=length}if(name.match(reMin)&&result&&!Validation.get("IsEmpty").test(v)){var length=name.split("-")[2];result=v.length>=length}}),result}],["validate-percents","Please enter a number lower than 100.",{max:100}],["required-file","Please select a file",function(v,elm){var result=!Validation.get("IsEmpty").test(v);return result===!1&&(ovId=elm.id+"_value",$(ovId)&&(result=!Validation.get("IsEmpty").test($(ovId).value))),result}],["validate-cc-ukss","Please enter issue number or start date for switch/solo card type.",function(v,elm){var endposition;endposition=elm.id.match(/(.)+_cc_issue$/)?elm.id.indexOf("_cc_issue"):elm.id.match(/(.)+_start_month$/)?elm.id.indexOf("_start_month"):elm.id.indexOf("_start_year");var prefix=elm.id.substr(0,endposition),ccTypeContainer=$(prefix+"_cc_type");if(!ccTypeContainer)return!0;var ccType=ccTypeContainer.value;if(["SS","SM","SO"].indexOf(ccType)==-1)return!0;$(prefix+"_cc_issue").advaiceContainer=$(prefix+"_start_month").advaiceContainer=$(prefix+"_start_year").advaiceContainer=$(prefix+"_cc_type_ss_div").down("ul li.adv-container");var ccIssue=$(prefix+"_cc_issue").value,ccSMonth=$(prefix+"_start_month").value,ccSYear=$(prefix+"_start_year").value,ccStartDatePresent=!(!ccSMonth||!ccSYear);return!(!ccStartDatePresent&&!ccIssue)}]]),Validation.creditCartTypes=$H({SO:[new RegExp("^(6334[5-9]([0-9]{11}|[0-9]{13,14}))|(6767([0-9]{12}|[0-9]{14,15}))$"),new RegExp("^([0-9]{3}|[0-9]{4})?$"),!0],VI:[new RegExp("^4[0-9]{12}([0-9]{3})?$"),new RegExp("^[0-9]{3}$"),!0],MC:[new RegExp("^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$"),new RegExp("^[0-9]{3}$"),!0],AE:[new RegExp("^3[47][0-9]{13}$"),new RegExp("^[0-9]{4}$"),!0],DI:[new RegExp("^(30[0-5][0-9]{13}|3095[0-9]{12}|35(2[8-9][0-9]{12}|[3-8][0-9]{13})|36[0-9]{12}|3[8-9][0-9]{14}|6011(0[0-9]{11}|[2-4][0-9]{11}|74[0-9]{10}|7[7-9][0-9]{10}|8[6-9][0-9]{10}|9[0-9]{11})|62(2(12[6-9][0-9]{10}|1[3-9][0-9]{11}|[2-8][0-9]{12}|9[0-1][0-9]{11}|92[0-5][0-9]{10})|[4-6][0-9]{13}|8[2-8][0-9]{12})|6(4[4-9][0-9]{13}|5[0-9]{14}))$"),new RegExp("^[0-9]{3}$"),!0],JCB:[new RegExp("^(30[0-5][0-9]{13}|3095[0-9]{12}|35(2[8-9][0-9]{12}|[3-8][0-9]{13})|36[0-9]{12}|3[8-9][0-9]{14}|6011(0[0-9]{11}|[2-4][0-9]{11}|74[0-9]{10}|7[7-9][0-9]{10}|8[6-9][0-9]{10}|9[0-9]{11})|62(2(12[6-9][0-9]{10}|1[3-9][0-9]{11}|[2-8][0-9]{12}|9[0-1][0-9]{11}|92[0-5][0-9]{10})|[4-6][0-9]{13}|8[2-8][0-9]{12})|6(4[4-9][0-9]{13}|5[0-9]{14}))$"),new RegExp("^[0-9]{3,4}$"),!0],DICL:[new RegExp("^(30[0-5][0-9]{13}|3095[0-9]{12}|35(2[8-9][0-9]{12}|[3-8][0-9]{13})|36[0-9]{12}|3[8-9][0-9]{14}|6011(0[0-9]{11}|[2-4][0-9]{11}|74[0-9]{10}|7[7-9][0-9]{10}|8[6-9][0-9]{10}|9[0-9]{11})|62(2(12[6-9][0-9]{10}|1[3-9][0-9]{11}|[2-8][0-9]{12}|9[0-1][0-9]{11}|92[0-5][0-9]{10})|[4-6][0-9]{13}|8[2-8][0-9]{12})|6(4[4-9][0-9]{13}|5[0-9]{14}))$"),new RegExp("^[0-9]{3}$"),!0],SM:[new RegExp("(^(5[0678])[0-9]{11,18}$)|(^(6[^05])[0-9]{11,18}$)|(^(601)[^1][0-9]{9,16}$)|(^(6011)[0-9]{9,11}$)|(^(6011)[0-9]{13,16}$)|(^(65)[0-9]{11,13}$)|(^(65)[0-9]{15,18}$)|(^(49030)[2-9]([0-9]{10}$|[0-9]{12,13}$))|(^(49033)[5-9]([0-9]{10}$|[0-9]{12,13}$))|(^(49110)[1-2]([0-9]{10}$|[0-9]{12,13}$))|(^(49117)[4-9]([0-9]{10}$|[0-9]{12,13}$))|(^(49118)[0-2]([0-9]{10}$|[0-9]{12,13}$))|(^(4936)([0-9]{12}$|[0-9]{14,15}$))"),new RegExp("^([0-9]{3}|[0-9]{4})?$"),!0],OT:[!1,new RegExp("^([0-9]{3}|[0-9]{4})?$"),!1]});
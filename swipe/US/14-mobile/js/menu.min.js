var mainNav=function(){var main={obj_nav:$(arguments[0])||$("nav"),settings:{show_delay:0,hide_delay:0,_ie6:/MSIE 6.+Win/.test(navigator.userAgent),_ie7:/MSIE 7.+Win/.test(navigator.userAgent)},init:function(obj,level){obj.lists=obj.childElements(),obj.lists.each(function(el,ind){main.handlNavElement(el),(main.settings._ie6||main.settings._ie7)&&level&&main.ieFixZIndex(el,ind,obj.lists.size())}),main.settings._ie6&&!level&&document.execCommand("BackgroundImageCache",!1,!0)},handlNavElement:function(list){void 0!==list&&(list.onmouseover=function(){main.fireNavEvent(this,!0)},list.onmouseout=function(){main.fireNavEvent(this,!1)},list.down("ul")&&main.init(list.down("ul"),!0))},ieFixZIndex:function(el,i,l){el.tagName.toString().toLowerCase().indexOf("iframe")==-1?el.style.zIndex=l-i:(el.onmouseover="null",el.onmouseout="null")},fireNavEvent:function(elm,ev){ev?(elm.addClassName("over"),elm.down("a").addClassName("over"),elm.childElements()[1]&&main.show(elm.childElements()[1])):(elm.removeClassName("over"),elm.down("a").removeClassName("over"),elm.childElements()[1]&&main.hide(elm.childElements()[1]))},show:function(sub_elm){sub_elm.hide_time_id&&clearTimeout(sub_elm.hide_time_id),sub_elm.show_time_id=setTimeout(function(){sub_elm.hasClassName("shown-sub")||sub_elm.addClassName("shown-sub")},main.settings.show_delay)},hide:function(sub_elm){sub_elm.show_time_id&&clearTimeout(sub_elm.show_time_id),sub_elm.hide_time_id=setTimeout(function(){sub_elm.hasClassName("shown-sub")&&sub_elm.removeClassName("shown-sub")},main.settings.hide_delay)}};arguments[1]&&(main.settings=Object.extend(main.settings,arguments[1])),main.obj_nav&&main.init(main.obj_nav,!1)};document.observe("dom:loaded",function(){mainNav("nav",{show_delay:"100",hide_delay:"100"})});
!function(e,t){var a=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};a()&&e.error("jquery-ujs has already been loaded!");var n;e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var a=e('meta[name="csrf-token"]').attr("content");a&&t.setRequestHeader("X-CSRF-Token",a)},fire:function(t,a,n){var r=e.Event(a);return t.trigger(r,n),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(a){var r,o,s,i,l,c,u,d;if(n.fire(a,"ajax:before")){if(i=a.data("cross-domain"),l=i===t?null:i,c=a.data("with-credentials")||null,u=a.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,a.is("form")){r=a.attr("method"),o=a.attr("action"),s=a.serializeArray();var f=a.data("ujs:submit-button");f&&(s.push(f),a.data("ujs:submit-button",null))}else a.is(n.inputChangeSelector)?(r=a.data("method"),o=a.data("url"),s=a.serialize(),a.data("params")&&(s=s+"&"+a.data("params"))):(r=a.data("method"),o=n.href(a),s=a.data("params")||null);d={type:r||"GET",data:s,dataType:u,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(a,"ajax:beforeSend",[e,r])},success:function(e,t,n){a.trigger("ajax:success",[e,t,n])},complete:function(e,t){a.trigger("ajax:complete",[e,t])},error:function(e,t,n){a.trigger("ajax:error",[e,t,n])},xhrFields:{withCredentials:c},crossDomain:l},o&&(d.url=o);var m=n.ajax(d);return a.trigger("ajax:send",m),m}return!1},handleMethod:function(a){var r=n.href(a),o=a.data("method"),s=a.attr("target"),i=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&i!==t&&(u+='<input name="'+l+'" value="'+i+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),a=t.is("button")?"html":"val";t.data("ujs:enable-with",t[a]()),t[a](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),a=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[a](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,a=e.data("confirm"),r=!1;return a?(n.fire(e,"confirm")&&(r=n.confirm(a),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,a,n){var r,o,s=e(),i=a||"input,textarea",l=t.find(i);return l.each(function(){if(r=e(this),o=r.is(":checkbox,:radio")?r.is(":checked"):r.val(),!o==!n){if(r.is(":radio")&&l.filter('input:radio:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(a,n){var r=a.data("events"),o=!0;return r!==t&&r.submit!==t&&e.each(r.submit,function(e,t){return"function"==typeof t.handler?o=t.handler(n):void 0}),o},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},n.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,a){e.crossDomain||n.CSRFProtection(a)}),e(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),e(document).delegate(n.linkClickSelector,"click.rails",function(a){var r=e(this),o=r.data("method"),s=r.data("params");if(!n.allowAction(r))return n.stopEverything(a);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if((a.metaKey||a.ctrlKey)&&(!o||"GET"===o)&&!s)return!0;var i=n.handleRemote(r);return i===!1?n.enableElement(r):i.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),e(document).delegate(n.inputChangeSelector,"change.rails",function(t){var a=e(this);return n.allowAction(a)?(n.handleRemote(a),!1):n.stopEverything(t)}),e(document).delegate(n.formSubmitSelector,"submit.rails",function(a){var r=e(this),o=r.data("remote")!==t,s=n.blankInputs(r,n.requiredInputSelector),i=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(a);if(s&&r.attr("novalidate")==t&&n.fire(r,"ajax:aborted:required",[s]))return n.stopEverything(a);if(o){if(i){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[i]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return!e.support.submitBubbles&&e().jquery<"1.7"&&n.callFormSubmitBindings(r,a)===!1?n.stopEverything(a):(n.handleRemote(r),!1)}setTimeout(function(){n.disableFormElements(r)},13)}),e(document).delegate(n.formInputClickSelector,"click.rails",function(t){var a=e(this);if(!n.allowAction(a))return n.stopEverything(t);var r=a.attr("name"),o=r?{name:r,value:a.val()}:null;a.closest("form").data("ujs:submit-button",o)}),e(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),e(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
// Copyright (c) 2010 "Cowboy" Ben Alman,
function(e,t){"$:nomunge";var a,n=e.jQuery||e.Cowboy||(e.Cowboy={});n.throttle=a=function(e,a,r,o){function s(){function n(){l=+new Date,r.apply(c,d)}function s(){i=t}var c=this,u=+new Date-l,d=arguments;o&&!i&&n(),i&&clearTimeout(i),o===t&&u>e?n():a!==!0&&(i=setTimeout(o?s:n,o===t?e-u:e))}var i,l=0;return"boolean"!=typeof a&&(o=r,r=a,a=t),n.guid&&(s.guid=r.guid=r.guid||n.guid++),s},n.debounce=function(e,n,r){return r===t?a(e,n,!1):a(e,r,n!==!1)}}(this),function(){$(function(){return $(".sticky").each(function(){var e,t,a,n,r,o,s,i,l,c,u,d,f,m;return t=$(this),l=t.offset(),r={top:t.data("sticky-displace-top")||0,bottom:t.data("sticky-displace-bottom")||0},d=t.data("sticky-class")||"stuck",c=t.data("sticky-placeholder-class")||"sticky-placeholder",a=t.data("sticky-alignment")||"top",o=t.data("full-width")||!0,u=t.css("position"),e=$("<div />",{"class":c,html:"&nbsp;",css:{width:o?"100%":t.outerWidth(),height:t.outerHeight(),margin:t.css("margin")}}).insertAfter(t).hide(),n=function(){return"top"===a?$(document).scrollTop()+r.top>l.top:$(document).scrollTop()+$(window).height()<$("body").outerHeight()-r.bottom},s=function(){var n;return t.hasClass(d)||(e.show(),n={position:"fixed"},n[a]=r[a],t.addClass(d).css(n)),o?(t.css("width",e.outerWidth()),e.height(t.outerHeight())):void 0},i=function(){var n;return n={position:""},n[a]="",o&&(n.width=""),t.removeClass(d).css(n),e.hide()},m=$.throttle(50,function(){return n()?s():i()}),f=$.throttle(50,function(){var a;return a=t.hasClass(d),i(),l=t.offset(),e.css({width:o?"100%":t.outerWidth(),height:t.outerHeight(),margin:t.css("margin")}),a&&s(),o&&t.hasClass(d)?(t.css("width",e.outerWidth()),e.height(t.outerHeight())):void 0}),$(window).on({scroll:m,resize:f}).trigger("scroll")})})}.call(this),/*
 * The MIT License
 *
 * Copyright (c) 2012 James Allardice
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
function(e){"use strict";function t(e,t,a){return e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent?e.attachEvent("on"+t,a):void 0}function a(e,t){var a,n;for(a=0,n=e.length;n>a;a++)if(e[a]===t)return!0;return!1}function n(e,t){var a;e.createTextRange?(a=e.createTextRange(),a.move("character",t),a.select()):e.selectionStart&&(e.focus(),e.setSelectionRange(t,t))}function r(e,t){try{return e.type=t,!0}catch(a){return!1}}e.Placeholders={Utils:{addEventListener:t,inArray:a,moveCaret:n,changeType:r}}}(this),function(e){"use strict";function t(){}function a(){try{return document.activeElement}catch(e){}}function n(e,t){var a,n,r=!!t&&e.value!==t,o=e.value===e.getAttribute(P);return(r||o)&&"true"===e.getAttribute(N)?(e.removeAttribute(N),e.value=e.value.replace(e.getAttribute(P),""),e.className=e.className.replace(q,""),n=e.getAttribute(Q),parseInt(n,10)>=0&&(e.setAttribute("maxLength",n),e.removeAttribute(Q)),a=e.getAttribute(F),a&&(e.type=a),!0):!1}function r(e){var t,a,n=e.getAttribute(P);return""===e.value&&n?(e.setAttribute(N,"true"),e.value=n,e.className+=" "+O,a=e.getAttribute(Q),a||(e.setAttribute(Q,e.maxLength),e.removeAttribute("maxLength")),t=e.getAttribute(F),t?e.type="text":"password"===e.type&&U.changeType(e,"text")&&e.setAttribute(F,"password"),!0):!1}function o(e,t){var a,n,r,o,s,i,l;if(e&&e.getAttribute(P))t(e);else for(r=e?e.getElementsByTagName("input"):g,o=e?e.getElementsByTagName("textarea"):v,a=r?r.length:0,n=o?o.length:0,l=0,i=a+n;i>l;l++)s=a>l?r[l]:o[l-a],t(s)}function s(e){o(e,n)}function i(e){o(e,r)}function l(e){return function(){b&&e.value===e.getAttribute(P)&&"true"===e.getAttribute(N)?U.moveCaret(e,0):n(e)}}function c(e){return function(){r(e)}}function u(e){return function(t){return w=e.value,"true"===e.getAttribute(N)&&w===e.getAttribute(P)&&U.inArray($,t.keyCode)?(t.preventDefault&&t.preventDefault(),!1):void 0}}function d(e){return function(){n(e,w),""===e.value&&(e.blur(),U.moveCaret(e,0))}}function f(e){return function(){e===a()&&e.value===e.getAttribute(P)&&"true"===e.getAttribute(N)&&U.moveCaret(e,0)}}function m(e){return function(){s(e)}}function p(e){e.form&&(x=e.form,"string"==typeof x&&(x=document.getElementById(x)),x.getAttribute(D)||(U.addEventListener(x,"submit",m(x)),x.setAttribute(D,"true"))),U.addEventListener(e,"focus",l(e)),U.addEventListener(e,"blur",c(e)),b&&(U.addEventListener(e,"keydown",u(e)),U.addEventListener(e,"keyup",d(e)),U.addEventListener(e,"click",f(e))),e.setAttribute(J,"true"),e.setAttribute(P,S),(b||e!==a())&&r(e)}function h(){for(j=0,E=g.length+v.length;E>j;j++)A=j<g.length?g[j]:v[j-g.length],S=A.attributes.placeholder,S?(S=S.nodeValue,S&&U.inArray(T,A.type)&&(A.getAttribute(J)||p(A),(S!==A.getAttribute(P)||"password"===A.type&&!A.getAttribute(F))&&("password"===A.type&&!A.getAttribute(F)&&U.changeType(A,"text")&&A.setAttribute(F,"password"),A.value===A.getAttribute(P)&&(A.value=S),A.setAttribute(P,S)))):A.getAttribute(N)&&(n(A),A.removeAttribute(P))}var g,v,b,y,w,C,k,S,_,x,A,E,j,T=["text","search","url","tel","email","password","number","textarea"],$=[27,33,34,35,36,37,38,39,40,8,46],M="#ccc",O="placeholdersjs",q=new RegExp("(?:^|\\s)"+O+"(?!\\S)"),P="data-placeholder-value",N="data-placeholder-active",F="data-placeholder-type",D="data-placeholder-submit",J="data-placeholder-bound",I="data-placeholder-focus",L="data-placeholder-live",Q="data-placeholder-maxlength",R=document.createElement("input"),B=document.getElementsByTagName("head")[0],z=document.documentElement,H=e.Placeholders,U=H.Utils;if(H.nativeSupport=void 0!==R.placeholder,!H.nativeSupport){for(g=document.getElementsByTagName("input"),v=document.getElementsByTagName("textarea"),b="false"===z.getAttribute(I),y="false"!==z.getAttribute(L),C=document.createElement("style"),C.type="text/css",k=document.createTextNode("."+O+" { color:"+M+"; }"),C.styleSheet?C.styleSheet.cssText=k.nodeValue:C.appendChild(k),B.insertBefore(C,B.firstChild),j=0,E=g.length+v.length;E>j;j++)A=j<g.length?g[j]:v[j-g.length],S=A.attributes.placeholder,S&&(S=S.nodeValue,S&&U.inArray(T,A.type)&&p(A));_=setInterval(function(){h(),y||clearInterval(_)},100)}U.addEventListener(e,"beforeunload",function(){H.disable()}),H.disable=H.nativeSupport?t:s,H.enable=H.nativeSupport?t:i,H.reflow=H.nativeSupport||y?t:h}(this);var Modal=function(e,t,a){var n=e(".modal-container"),r=function(){return n.hasClass("active")},o=function(){n.addClass("active"),e("html, body").addClass("modal-open")},s=function(){n.removeClass("active"),e("html, body").removeClass("modal-open")},i=function(t){e.ajax({url:t,success:function(e){n.html(e),setTimeout(o,1)}})},l=function(t,a){var n=e("<p>",{text:t,"class":"alert-box "+a}).appendTo(".modal-body");n.fadeOut(5e3,function(){e(this).remove()})};return e(function(){e(a).on("click","a[data-modal]",function(e){e.preventDefault(),i(this.href)}),e(a).on("keydown",function(e){27==e.keyCode&&n.hasClass("active")&&s()}),n.on("click",function(t){(e(t.target).hasClass("modal")||e(t.target).hasClass("modal-container"))&&s()}),n.on("click","[data-close=modal]",s),e(a).on("ajax:complete","form[data-modal]",function(t,a,n){window.ModalCallbacks[e(t.currentTarget).data("callback")](a,n)})}),{isOpen:r,open:o,close:s,populate:i,flashMessage:l}}(window.jQuery,window,document),SaveQuote=function(e){var t=function(){return $(".policy-summary").length>0},a=function(){$(".evqt-save-form").removeAttr("data-modal")},n=function(){var e=$("#policy-form").find(":input"),t=e.filter(function(){return this.value&&!/evqt/.test(this.id)&&"_method"!=this.name});return t.serialize()},r=function(){o({clicked_save_on_step:window.location.hash.replace(/^#/,"")}),$.ajax({url:"/auto_policies/save_progress",data:n(),type:"POST",dataType:"json",complete:s})},o=function(e){$.ajax({url:"/arrival_expandos/set_attribute",data:e,type:"POST"})},s=function(t){var a=$(".evqt-save-form"),n=a.find("i");200==t.status?(e.populate("/evqt_profiles/accounts/on_save_greeting"),a.addClass("success"),n.removeClass("fa-save fa-spin fa-cog").addClass("fa-check"),setTimeout(function(){a.removeClass("success"),n.removeClass("fa-check").addClass("fa-save")},5e3)):(e.isOpen()?e.flashMessage(t.responseJSON.message,"error"):i(t.responseJSON.message,"error"),a.addClass("failure"),n.removeClass("fa-save fa-spin fa-cog").addClass("fa-exclamation-triangle"),setTimeout(function(){a.removeClass("failure"),n.removeClass("fa-exclamation-triangle").addClass("fa-save")},5e3))},i=function(e,t){var a=$("<p>",{text:e,"class":"alert-box "+t}).appendTo(".policy-summary");a.fadeOut(5e3,function(){$(this).remove()})};return $(function(){""!==$("#auto_policy_autos_attributes_0_submodel").val()&&$(".evqt-save-form").removeClass("hide").show(),$(".modal-container").on("click",".new-policy",function(){o({start_new_policy:!0})}),$("#form-container").on("click",".evqt-save-form:not([data-modal])",function(e){e.preventDefault();var t=$(this).find("i");t.removeClass("fa-save").addClass("fa-cog fa-spin"),r()})}),{isOpen:t,disableModal:a,saveQuote:r,saveFormProgress:o,flashMessage:i}}(Modal),EverQuoteHelper=function(e){var t=function(t,a){if(e.isOpen())e.flashMessage(t,a);else if("undefined"!=typeof SaveQuote&&SaveQuote.isOpen())SaveQuote.flashMessage(t,a);else{var n=$("<div>",{"class":"row"});$("<div>",{"class":"small-10 columns",html:t}).appendTo(n),$("<div>",{"class":"small-2 columns",html:'<a class="close fa fa-times right" href="#"></a>'}).appendTo(n),$("<div>",{html:n,"class":"alert-box "+a}).appendTo(".flash-messages-container")}},a=function(){$(".page-header").load("/evqt_profiles/sessions/render_navbar"),$("#zip-submit-container").load("/evqt_profiles/sessions/render_zip_submit"),$("#forum-header").load("/evqt_profiles/sessions/render_forum_header")},n=function(){$("#edit-email-row").load("/evqt_profiles/accounts/render_edit_email_row")};return{flashMessage:t,reloadAccountPartials:a,reloadEmailPartials:n}}(Modal),ModalCallbacks=function(e,t,a,n,r,o){var s,i=function(e){200==e.status?r.isOpen()?(o.reloadAccountPartials(),r.close()):t.location.replace("/evqt_profiles/accounts/edit_profile/"):r.isOpen()?r.flashMessage(e.responseJSON.message,"error"):o.flashMessage(e.responseJSON.message,"error")},l=function(e){200==e.status?(o.reloadAccountPartials(),r.populate("/advice/new_post/")):r.flashMessage(e.responseJSON.message,"error")},c=function(e){200==e.status?(o.reloadAccountPartials(),"undefined"!=typeof n&&(n.saveFormProgress({saved_form_login:!0}),n.disableModal(),n.saveQuote())):r.flashMessage(e.responseJSON.message,"error")},u=function(e){if(200==e.status){if("undefined"!=typeof n){n.saveFormProgress({logged_in_to_save:!0}),o.reloadAccountPartials();var a=location.protocol+"//"+location.host+location.pathname,s=decodeURIComponent(t.location.search).replace(/evqt\[policy_saved\]=.+?(?=&|$)/,"");t.location.href=a+s}}else r.flashMessage(e.responseJSON.message,"error")},d=function(t){200==t.status?(o.reloadAccountPartials(),r.flashMessage(t.responseJSON.message,"message"),r.populate("/advice/new_post/"),e("a.reply[data-modal]").removeAttr("data-modal")):r.flashMessage(t.responseJSON.message,"warning")},f=function(t){200==t.status?(o.reloadAccountPartials(),r.flashMessage(t.responseJSON.message,"message"),r.close(),e("a.reply[data-modal]").removeAttr("data-modal"),e(".forum-comment-form-container").slideDown()):r.flashMessage(t.responseJSON.message,"warning")},m=function(e){200==e.status?(r.close(),o.flashMessage(e.responseJSON.message,"message")):r.flashMessage(e.responseJSON.errors,"error")},p=function(e){200==e.status?(r.close(),o.flashMessage(e.responseJSON.message,"message")):r.flashMessage(e.responseJSON.message,"error")},h=function(e){if(200==e.status){var t=e.getResponseHeader("Location");t?r.populate(t):(r.close(),o.flashMessage(e.responseJSON.message,"message"))}else r.flashMessage(e.responseJSON.message,"error")},g=function(e){200==e.status?(o.reloadEmailPartials(),r.close()):r.flashMessage(e.responseJSON.message,"error")},v=function(){e.ajax({url:"/evqt_profiles/accounts/resend_quote_email",type:"GET"}),r.populate("/evqt_profiles/accounts/on_save_greeting")},b=function(t){o.reloadEmailPartials(),""===t&&(t=e(".modal-container").find("form").data("callback")),t&&s[t]({status:200},"OK")},y=function(t){""===t&&(t=e(".modal-container").find("form").data("callback")),r.populate("/evqt_profiles/sessions/facebook_confirm?callback="+t)},w=function(){};return s={authDefaultCallback:i,authAdviceForumCallback:l,authFormCallback:c,authContinuePolicyCallback:u,completeForumUserPostCallback:d,completeForumUserCommentCallback:f,createPostCallback:m,resetPasswordCallback:p,changePasswordCallback:h,emailSetCallback:g,sendQuoteEmail:v,facebookDone:b,facebookConfirm:y,nothing:w}}(window.jQuery,window,document,SaveQuote,Modal,EverQuoteHelper);!function(e){"use strict";e(window.jQuery,window,document)}(function(e,t,a){var n,r,o=function(){n.toggleClass("search-open"),r.toggleClass("fa-times"),n.hasClass("search-open")&&e("#query").focus()},s=function(t){var a,n;return t.preventDefault(),a=e(this).nextAll("ul.content"),n=e(this).closest("li"),e(".content.open").each(function(){a[0]!==this&&u(this)}),e(this).siblings(".content").toggleClass("open"),n.toggleClass("active"),!1},i=function(t){var a,n=e(".nav-links");return t.preventDefault(),n.toggleClass("menu-open"),a=n.hasClass("menu-open")?"Close":"Menu",e(this).text(a),!1},l=function(t){e(t.target).hasClass("toggle-dropdown")||e(".content.open").each(function(){u(this)})},c=function(){var t=!0,a=e(this).find(":input:visible").not(":submit");return a.each(function(){var a=!0;switch(this.id){case"landing-zip-code":a=/\d{5}/.test(this.value),a&&e.ajax({url:"/api/agent_listings/find_by_zip_code",data:{zip_code:this.value},async:!1}).fail(function(){a=!1});break;case"reason-for-quote":a=!!this.value}a?e(this).removeClass("error").closest("div").removeClass("field_with_errors"):(e(this).addClass("error").closest("div").addClass("field_with_errors"),t=!1)}),t},u=function(t){e(t).removeClass("open"),e(t).closest("li").toggleClass("active")},d=function(t){t.preventDefault(),e(t.target).parents(".alert-box").slideUp(function(){e(this).remove()})},f=function(){return this.value?(e(this).removeClass("error").closest("div").removeClass("field_with_errors"),!0):(e(this).addClass("error").closest("div").addClass("field_with_errors"),!1)},m=function(t){var a=!0;return t.find('[name="prospect[first_name]"], [name="prospect[last_name]"], [name="prospect[phone]"]').each(function(){f.call(this)||(a=!1,e(this).off("change input").on("change input",f))}),a||Placeholders&&Placeholders.enable(t[0]),a};e(function(){n=e(".header-search-bar"),r=e("#search-button i"),e("#pixel-frame").attr("src",e("#pixel-path").attr("value")),e(".navbar-container").on("click","#search-button",o),e(a).on("click",l),e(".page-header").on("click tap",".toggle-dropdown",s),e(".page-header").on("click","#menu-dropdown",i),e(".zip-submit-window form, .zip-submit-shortcode form").on("submit",c),e("body").on("click",".alert-box a.close",d),e(".pro-form, .choice-form").on("click",function(){return m(e(this))}),e(".dynamic-content-form-submit").on("click",function(){var t=e(this).parents("form");return m(t)?void t.trigger("submit"):!1}),e("#states").on("change",function(){var a=e(this).val().toLowerCase().replace(/ /gi,"-"),n=a+"/auto-insurance";return a&&(t.location.pathname=n),!1})})});
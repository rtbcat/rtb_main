var visitorMappings=function(e,o){"use strict";var t=function(e){$(function(){n(e)})},n=function(e){$.ajax({type:"POST",url:"/api/visitor_mappings",dataType:"json",data:{message:e.message,iv:e.iv}}).done(function(e){if(!e||!e.ab_test_value)return!1;if("auto-policies"===$(document.body).data("controller"))location.reload();else if($(document.body).attr("data-ab-cross-domain-visitor-prepop-flow",e.ab_test_value),/direct_to_/.test(e.ab_test_value)){var o=e.reason_for_quote,t=e.license_status,n=e.add_violation;$("#zip-landing-wrapper, #zip-submit-container").hide(),$(".cross-domain-redirect").show(),$("#landing-zip-code, #landing_zip_code").val(e.zip_code),document.getElementById("reason-for-quote")?a(o):i(o),document.getElementById("landing__x_license_status")&&(t?$("#landing__x_license_status_"+t).prop("checked",!0):$(".license-status").remove()),document.getElementById("landing__x_add_violation")&&(n?$("#landing__x_add_violation_"+n).prop("checked",!0):$(".add-violation").remove()),$("#zip-landing, #new_landing").submit()}else if(/prompt_on_landing/.test(e.ab_test_value)){if($(".same-domain-landing-prompt").remove(),$("body").attr("data-eq-article-prompt-on-landing-client-side")){var s="Thank you for returning from&nbsp;our sister site, "+e.arrival_domain+"!",d="Would you like to continue to find ",l=$("<div>",{"class":"prompt-on-landing"});d=r(e,d),l.append($("<h2>",{html:s})).append($("<p>",{html:d})).insertBefore(".cross-domain-zip button"),$("#zip-submit-container").remove()}else{var u="Thank you for returning from&nbsp;our sister site, "+e.arrival_domain+"! Would you like to continue to find ";u=r(e,u),$("<h2>",{html:u}).insertBefore(".cross-domain-zip button"),$("#cross-domain-zip-code").val(e.zip_code),$(".eq-robot-lean").add(".eq-robot-arm").addClass("robot-left-zip"),$("#zip-landing-wrapper").remove()}$(".cross-domain-zip").show()}})},a=function(e){e?$("#reason-for-quote").val(e):$(".reason-for-quote").remove()},i=function(e){e?$("#landing__x_reason_for_quote_"+e).prop("checked",!0):$("#reason_for_quote_fallback").parent().remove()},r=function(e,o){return o+="string"==typeof e.auto_year?"quotes for your "+e.auto_year+" "+e.auto_make+" "+e.auto_model+"?":"the best rates?"};return{execute:t}}(window,document);